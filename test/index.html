<!DOCTYPE html>
<html>
<head>
	<title></title>
	<head>
    <!-- Attach the module to the global namespace with a script tag -->
    <script type="text/javascript" src="./node_modules/liquidcrypto/dist/LiquidCrypto-b.js"></script>
    <script type="text/javascript">
        const init = async () => {
            // generating a new keypair: 
            const liquidKeypair = await LiquidCrypto()/*<-- SENDER*/
            const liquidKeypair2 = await LiquidCrypto()/*<-- RECEIVER*/

            // derive symmetric encryption key
            const secretKey = await liquidKeypair.deriveKey(liquidKeypair2.publicKey)

            const encodedSecret = await liquidKeypair.encrypt('secret data', secretKey)

            const secretKey2 = await liquidKeypair.deriveKey(liquidKeypair2.publicKey)

            const decodedSecret = await liquidKeypair.decrypt(encodedSecret, secretKey2)

            console.log('decrypted secret: ', decodedSecret)
        }
        init()
    </script>
</head>
</head>
<body>

</body>
</html>